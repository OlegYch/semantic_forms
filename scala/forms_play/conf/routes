# Routes
# This file defines all application routes (Higher priority routes first)
# ~~~~

# Another DSL for routes (but maybe not fully chekable by the Scala compiler)
# https://www.playframework.com/documentation/2.5.x/ScalaEmbeddingPlay
# https://www.playframework.com/documentation/2.5.x/ScalaSirdRouter

# Home page
GET     /                   controllers.Application.index

# TODO put it in files/
GET /robots.txt             controllers.Assets.at(path="/public", file="robots.txt")

# GET /bla controllers.HomeController.bla()

GET     /display            controllers.Application.displayURI(displayuri:String, blanknode:String ?= "", Edit:String?="", formuri:String ?="")
# GET     /display2            controllers.Application.displayURI2(displayuri:String)
POST    /load               controllers.Application.loadAction()
GET     /table              controllers.Application.table()

GET     /edit               controllers.Application.edit( url:String )
POST    /save               controllers.Application.saveAction()
GET     /create             controllers.Application.createAction()
GET     /create-data        controllers.Application.createData()

GET     /download           controllers.Application.downloadAction( url:String, database:String ?="TDB" )
GET     /form               controllers.Application.form(displayuri:String, blanknode:String ?= "", Edit:String?="", formuri:String ?="", database:String ?="TDB")
GET     /form-data          controllers.Application.formDataAction(displayuri:String, blanknode:String ?= "", Edit:String?="", formuri:String ?="", database:String ?="TDB")
GET     /sparql-form        controllers.Application.sparqlForm(query:String, Edit:String?="", formuri:String ?="", database:String ?="TDB")

GET     /page               controllers.SemanticController.page()

GET     /sparql-ui          controllers.Application.sparql( query:String )
POST    /sparql-ui          controllers.Application.sparql( query:String )

# Actually Construct or SELECT 
GET     /sparql             controllers.Application.sparqlConstruct( query:String )

# application/x-www-form-urlencoded
POST    /sparql             controllers.Application.sparqlConstructPOST()
POST    /sparql-data        controllers.Application.sparqlDataPOST()

GET     /select-ui          controllers.Application.select( query:String )
POST    /select-ui          controllers.Application.select( query:String )

GET     /update             controllers.Application.updateGET( update:String )
POST    /update             controllers.Application.updatePOST()


GET     /wordsearch         controllers.Application.wordsearchAction(q:String ?= "", clas: String ?= "")
GET     /search             controllers.Application.searchOrDisplayAction(q:String ?= "")

GET     /backlinks          controllers.Application.backlinksAction(q:String ?= "")
GET     /esearch            controllers.Application.extSearch(q:String ?= "")

GET     /tools			    controllers.Application.toolsPage
GET     /showNamedGraphs    controllers.Application.showNamedGraphsAction
GET     /showTriplesInGraph controllers.Application.showTriplesInGraphAction(uri: String)
GET     /history            controllers.Application.makeHistoryUserActionsAction(limit: String?= "")

# authentication

GET     /login                      controllers.AuthService.login
POST    /authenticate               controllers.AuthService.authenticate
GET     /authenticate               controllers.AuthService.authenticate
POST    /register                   controllers.AuthService.register
GET     /register                   controllers.AuthService.register
GET     /logout                     controllers.AuthService.logout

GET     /login0                     controllers.Auth.login
POST    /authenticate0              controllers.Auth.authenticate
POST    /register0                  controllers.Auth.register


# Map static resources from the /public folder to the /assets URL path
GET     /assets/*file               controllers.Assets.at(path="/public", file)
# files in local files/ directory are served like Apache does:
GET     /files/*file                controllers.Files.at(file)

# LDP
GET     /ldp/*uri              controllers.Application.ldp(uri: String)
POST    /ldp/*uri              controllers.Application.ldpPOSTAction(uri: String)
PUT     /ldp/*uri              controllers.Application.ldpPOSTAction(uri: String)

OPTIONS /*path                         controllers.Application.httpOptions(path)

GET     /lookup                controllers.Application.lookupService(QueryString:String, QueryClass: String ?= "")

